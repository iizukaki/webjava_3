<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>ListView</title>
</head>
	<body>
		<h1>アイテム一覧</h1>
		<!-- "#"はボタンをページの先頭にジャンプするリンク -->
		<form  th:action="@{/list}" method="POST" th:object="${listForm}">
			<p th:if="${#maps.isEmpty(itemList)}">商品がありません。</p>
			<table  th:unless="${#maps.isEmpty(itemList)}" border="1" >
				<thead  class="thead-light">
				<tr>
					<th>アイテムID</th>
					<th>名前</th>
					<th>価格</th>
					<th>削除</th>
					<th>注文個数</th>
				</tr>
				</thead>
				<tbody>
				<tr th:each="item, stat : ${itemList}">
					<td>
						<span th:text="${item.item_id}"></span>
						<input type="hidden" th:name="|itemList[${stat.index}].item_id|" th:value="${item.item_id}" />
					</td>
					<td>
						<input type="text" th:name="|itemList[${stat.index}].item_name|" th:value="${item.item_name}" />
					</td>
					<td>
						<input type="text" th:name="|itemList[${stat.index}].price|" th:value="${item.price}" />
					</td>
					<td>
						<a href="" th:href="@{/deleteitem(item_id=${item.item_id})}" >削除</a>
					</td>
					<td>

						<input type="hidden" name="item_id" th:value="${item.item_id}" />
						<input type="number" name="item_name" min="1"/>
						<input type="submit" value="カートに追加" />

					</td>

				</tr>
				</tbody>
			</table>

		</form>
		<form action="#" th:action="@{/additem}" method="post">

			<table>
				<tr>
					<th>アイテムID</th>
					<th>名前</th>
					<th>価格</th>
				</tr>
				<tr>
					<td>
						<input type="text" name="itemId" />
					</td>
					<td>
						<input type="text" name="Name" />
					</td>
					<td>
						<input type="text" name="price" />
					</td>
				</tr>
			</table>

			<input type="submit" value="登録" class="btn" />
		</form>

	</body>
</html>